<html>
  <head>
    <link rel="stylesheet" href="/assets/notes.css">
    <link rel="stylesheet" href="/assets/hljs-github.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        messageStyle: "none",
        tex2jax: {
          inlineMath: [["$", "$"], ["\\(", "\\)"]],
          processEscapes: true
        },
        "HTML-CSS": {
          availableFonts: ["TeX"]
        }
      });
    </script>
    <script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
  </head>
  <body>
    <div class="content"><h1 id="-latex-">$\LaTeX$</h1>
<h2 id="introduction">Introduction</h2>
<ul>
<li><a href="floats">Controlling floats</a></li>
<li><a href="minted">Minted</a> â€“ <em>Source code highlighting</em></li>
<li><a href="misc">Miscellaneous</a></li>
<li><a href="macros">Macros and commands</a></li>
<li><a href="minimal">Minimal document</a></li>
<li><a href="https://github.com/c3l/auto-tex-compile">auto-tex-compile</a>, a script I wrote to automatically compile the document as the source files are saved.</li>
<li><a href="templates">Templates</a></li>
</ul>
<hr>
<p>Refactoring content below to sub-pages, new stuff is above.</p>
<p>LaTeX documentation is found at:</p>
<ul>
<li><a href="http://en.wikibooks.org/wiki/LaTeX">Wikibooks LaTeX</a></li>
<li><a href="http://tobi.oetiker.ch/lshort/lshort.pdf">The Not So Short Introduction to LaTeX</a></li>
</ul>
<p>Those two resources are great! Although it is quite a lot to read, I
promise, life gets better when you&#39;ve done it!</p>
<p>I frequently use Wikibooks as a reference, and I suggest you do the
same, and maybe even contribute to make it more comprehensive.</p>
<p>This document is merely a compilation of my notes on certain edge
cases and stuff that I tend to forget, along with code snippets. I&#39;ve
put it all here mainly as a reference for my self.</p>
<h2 id="automagically-compile-document">Automagically compile document</h2>
<p>This short script automagically compiles your tex document when you
modify the source file! Also, no messy output is shown, only error
messages (if any). Requires the <code>inotify-tools</code> package.</p>
<pre><code class="bash"><span class="hljs-keyword">while</span> inotifywait -qq <span class="hljs-operator">-e</span> modify *.tex; <span class="hljs-keyword">do</span>
  clear &amp;&amp; pdflatex -interaction=nonstopmode *.tex | grep <span class="hljs-string">"^\!\|^l."</span>
<span class="hljs-keyword">done</span>
</code></pre>
<p>To really benefit from this you need a PDF reader that reloads the
document when it is modified,
<a href="http://en.wikipedia.org/wiki/Evince">Evince</a> does this.</p>
<p>The above script is quite basic, it does for instance not handle
command line arguments. Have a look at the
<a href="https://www.dropbox.com/s/t587neki0zgxuw9/latex-autocompile">extended version</a>
directly from my dropbox (it changes and improves slightly over
time). Put it in your
<a href="http://en.wikipedia.org/wiki/PATH_(variable">PATH</a>) for ease of use.</p>
<h2 id="packages">Packages</h2>
<h3 id="internationalization">Internationalization</h3>
<p>Hyphenation in your language: <code>\usepackage[swedish]{babel}</code>.</p>
<p>LaTeX is really old, so support for modern font encodings is not built
in, so we use packages:</p>
<pre><code class="tex"><span class="hljs-command">\usepackage</span><span class="hljs-special">[</span>utf8<span class="hljs-special">]</span><span class="hljs-special">{</span>inputenc<span class="hljs-special">}</span> <span class="hljs-comment">% Input can be utf8</span>
<span class="hljs-command">\usepackage</span><span class="hljs-special">[</span>T1<span class="hljs-special">]</span><span class="hljs-special">{</span>fontenc<span class="hljs-special">}</span>    <span class="hljs-comment">% Output just gets it right</span>
</code></pre>
<p>Read <a href="http://tex.stackexchange.com/a/44699">this</a> to clear up
potential confusion about <code>inputenc</code> and <code>fontenc</code>.
However, you should really consider using
<a href="http://en.wikipedia.org/wiki/XeTeX">XeTeX</a> or
<a href="http://en.wikipedia.org/wiki/LuaTeX">LuaTeX</a> instead, they handle
utf8 (among other things) much smoother. They&#39;re not very different
from plain LaTeX, they&#39;re both part of texlive and so on.</p>
<h3 id="math-and-other-sciency-stuff">Math and other sciency stuff</h3>
<pre><code class="tex"><span class="hljs-command">\usepackage</span><span class="hljs-special">{</span>mathtools<span class="hljs-special">}</span> <span class="hljs-comment">% This is preferred</span>
<span class="hljs-command">\usepackage</span><span class="hljs-special">{</span>amsmath<span class="hljs-special">}</span>   <span class="hljs-comment">% Otherwise use this</span>
<span class="hljs-command">\usepackage</span><span class="hljs-special">{</span>amssymb<span class="hljs-special">}</span>   <span class="hljs-comment">% Gives more symbols</span>
<span class="hljs-command">\usepackage</span><span class="hljs-special">{</span>stmaryrd<span class="hljs-special">}</span>  <span class="hljs-comment">% Even more symbols</span>
<span class="hljs-command">\usepackage</span><span class="hljs-special">{</span>siunitx<span class="hljs-special">}</span>   <span class="hljs-comment">% Dealing with units</span>
<span class="hljs-command">\usepackage</span><span class="hljs-special">{</span>subdepth<span class="hljs-special">}</span>
<span class="hljs-command">\usepackage</span><span class="hljs-special">[</span>version=3<span class="hljs-special">]</span><span class="hljs-special">{</span>mhchem<span class="hljs-special">}</span> <span class="hljs-comment">% Chemistry.. i don't know</span>
</code></pre>
<ul>
<li><a href="http://en.wikibooks.org/wiki/LaTeX/Mathematics">Most of what you need</a></li>
<li><a href="ftp://ftp.ams.org/ams/doc/amsmath/amsldoc.pdf">Amsmath doc</a></li>
<li><a href="http://en.wikibooks.org/wiki/LaTeX/Mathematics#Formatting_mathematics_symbols">Math symbols</a></li>
</ul>
<h3 id="source-code-highlighting">Source code highlighting</h3>
<p>Are you using <code>listings</code>? Stop! It&#39;s really quite cumbersome and
messy. Have a look at the package
<a href="http://code.google.com/p/minted/"><code>minted</code></a>, it takes care of
everything and works great! It uses the command <code>pygmentize</code> provided
by the (super great) <a href="http://pygments.org/">pygments</a> program (written
in python). Also have a look at minteds
<a href="http://minted.googlecode.com/files/minted.pdf">docummentation</a>,
especially section 6 if you use quite a lot of optional commands for
your code environment.</p>
<p>I like to have something like this:</p>
<pre><code class="tex"><span class="hljs-comment">% Grey line numbers, so that they don't catch too much attention.</span>
<span class="hljs-command">\renewcommand</span><span class="hljs-special">{</span><span class="hljs-command">\theFancyVerbLine</span><span class="hljs-special">}</span><span class="hljs-special">{</span>
  <span class="hljs-command">\sffamily</span><span class="hljs-command">\textcolor</span><span class="hljs-special">[</span>rgb<span class="hljs-special">]</span><span class="hljs-special">{</span>0.5,0.5,0.5<span class="hljs-special">}</span><span class="hljs-special">{</span><span class="hljs-command">\scriptsize</span><span class="hljs-command">\arabic</span><span class="hljs-special">{</span>FancyVerbLine<span class="hljs-special">}</span><span class="hljs-special">}</span><span class="hljs-special">}</span>

<span class="hljs-comment">% Custom environment for some language.</span>
<span class="hljs-command">\newminted</span><span class="hljs-special">{</span>python<span class="hljs-special">}</span><span class="hljs-special">{</span>linenos,numbersep=5pt<span class="hljs-special">}</span>
</code></pre>
<h2 id="tweaks">Tweaks</h2>
<h3 id="margins">Margins</h3>
<p>The default text width might be considered too narrow in some cases, so we make the
margins smaller with the <code>geometry</code> package.</p>
<pre><code class="tex"><span class="hljs-command">\usepackage</span><span class="hljs-special">[</span>top=1cm, bottom=2cm, left=3cm, right=4cm<span class="hljs-special">]</span><span class="hljs-special">{</span>geometry<span class="hljs-special">}</span>
</code></pre>
<p>And you should read
<a href="http://en.wikibooks.org/wiki/LaTeX/Page_Layout">Page Layout</a> at
Wikibooks.</p>
<h4 id="european-style-paragraph-newline-no-indentation-">European style paragraph newline (no indentation)</h4>
<p>See
<a href="http://en.wikibooks.org/wiki/LaTeX/Paragraph_Formatting#Paragraph_Indents">Paragraph Indents</a>
at Wikibooks, for more details.</p>
<pre><code class="tex"><span class="hljs-command">\usepackage</span><span class="hljs-special">{</span>parskip<span class="hljs-special">}</span>
</code></pre>
<h3 id="fancy-headers-with-fancyhdr-">Fancy headers with <code>fancyhdr</code></h3>
<p>See
<a href="http://en.wikibooks.org/wiki/LaTeX/Page_Layout#Page_styles">page styles</a>
for more info.</p>
<pre><code class="tex"><span class="hljs-command">\usepackage</span><span class="hljs-special">{</span>fancyhdr<span class="hljs-special">}</span>

<span class="hljs-command">\lhead</span><span class="hljs-special">{</span>left header<span class="hljs-special">}</span>
<span class="hljs-command">\chead</span><span class="hljs-special">{</span>center header<span class="hljs-special">}</span>
<span class="hljs-command">\rhead</span><span class="hljs-special">{</span>right header<span class="hljs-special">}</span>

<span class="hljs-command">\lfoot</span><span class="hljs-special">{</span>left footer<span class="hljs-special">}</span>
<span class="hljs-command">\cfoot</span><span class="hljs-special">{</span>center footer<span class="hljs-special">}</span>
<span class="hljs-command">\rfoot</span><span class="hljs-special">{</span>right footer<span class="hljs-special">}</span>

<span class="hljs-command">\pagestyle</span><span class="hljs-special">{</span>fancy<span class="hljs-special">}</span>

<span class="hljs-comment">% hline in the footer, just like header.</span>
<span class="hljs-command">\renewcommand</span><span class="hljs-special">{</span><span class="hljs-command">\footrulewidth</span><span class="hljs-special">}</span><span class="hljs-special">{</span>0.4pt<span class="hljs-special">}</span>
</code></pre>
<p>An example.</p>
<pre><code class="tex"><span class="hljs-command">\usepackage</span><span class="hljs-special">{</span>fancyhdr<span class="hljs-special">}</span>
  <span class="hljs-command">\lhead</span><span class="hljs-special">{</span><span class="hljs-command">\textsc</span><span class="hljs-special">{</span>Title<span class="hljs-special">}</span><span class="hljs-special">}</span>
  <span class="hljs-command">\rhead</span><span class="hljs-special">{</span><span class="hljs-command">\thepage</span><span class="hljs-special">}</span>
  <span class="hljs-command">\cfoot</span><span class="hljs-special">{</span><span class="hljs-special">}</span>
  <span class="hljs-command">\rfoot</span><span class="hljs-special">{</span><span class="hljs-command">\textsl</span><span class="hljs-special">{</span>Author<span class="hljs-special">}</span><span class="hljs-special">}</span>
<span class="hljs-command">\pagestyle</span><span class="hljs-special">{</span>fancy<span class="hljs-special">}</span>
</code></pre>
<h3 id="graphics-images-and-figures">Graphics, images and figures</h3>
<p>To include an image you need <code>\usepackage{graphicx}</code>, then use:</p>
<pre><code class="tex"><span class="hljs-command">\begin</span><span class="hljs-special">{</span>figure<span class="hljs-special">}</span>
  <span class="hljs-command">\centering</span>
  <span class="hljs-command">\includegraphics</span><span class="hljs-special">[</span>width=0.8<span class="hljs-command">\linewidth</span><span class="hljs-special">]</span><span class="hljs-special">{</span>filename<span class="hljs-special">}</span>
  <span class="hljs-command">\caption</span><span class="hljs-special">{</span>Descriptive text.<span class="hljs-special">}</span>
  <span class="hljs-command">\label</span><span class="hljs-special">{</span>fig:foo<span class="hljs-special">}</span>
<span class="hljs-command">\end</span><span class="hljs-special">{</span>figure<span class="hljs-special">}</span>
</code></pre>
<p>Note that I use <code>[width=0.8\linewidth]</code> to scale the image to 80 \% of
the (usable) width of the document. (See
<a href="http://tex.stackexchange.com/questions/16942/difference-between-textwidth-linewidth-and-hsize">this</a>
for more info. on <code>\linewidth</code> vs. <code>\textwidth</code>.)</p>
<p>Normally LaTeX positions your figure in the resulting document where
the typographical rules find it best. This is most usually not where
the figure occurs in the source. If you don&#39;t want LaTeX to choose
where to put your figure, use the <code>float</code> package and begin the
<code>figure</code> environment like this <code>\begin{figure}[H]</code>.</p>
<p>However, I recommend letting LaTeX position your figures
automatically -- they might end up on a different page, but it is
usually for the best. Simply be consistent with referencing your
figures in the text  and use meningful captions.</p>
<p>Sometimes LaTeX likes to spread out your figures just a bit too much
-- If you have a section that is rather small, the figures in that
section might actually end up in another section. Sometimes this is
simply not acceptable; then use <code>\usepackage[section]{placeins}</code>.</p>
<h4 id="advanced-pgf-tikz">Advanced, PGF/TikZ</h4>
<p>For more advance usage, coding your vectorized images, the
<a href="http://en.wikibooks.org/wiki/LaTeX/PGF/TikZ">PGF/TikZ</a> package might
be interesting.</p>
<h3 id="fonts">Fonts</h3>
<p>Just go <a href="http://en.wikibooks.org/wiki/LaTeX/Text_Formatting#Fonts">here</a></p>
<h3 id="miscellaneous">Miscellaneous</h3>
<p>Clickable links in PDF: <code>\usepackage{hyperref}</code>.</p>
<p>Nifty notes in the margins: <code>\usepackage{marginnote}</code></p>
<p>Table of contents dots for sections:</p>
<pre><code class="tex"><span class="hljs-command">\usepackage</span><span class="hljs-special">{</span>tocloft<span class="hljs-special">}</span>
<span class="hljs-command">\renewcommand</span><span class="hljs-special">{</span><span class="hljs-command">\cftsecleader</span><span class="hljs-special">}</span><span class="hljs-special">{</span><span class="hljs-command">\cftdotfill</span><span class="hljs-special">{</span><span class="hljs-command">\cftdotsep</span><span class="hljs-special">}</span><span class="hljs-special">}</span>
</code></pre>
<p>Tables, have a closer look in
<a href="http://en.wikibooks.org/wiki/LaTeX/Tables">Tables</a> at Wikibooks. For
not so tight table cells use this:</p>
<pre><code>\renewcommand{\arraystretch}{1.4}
\renewcommand{\tabcolsep}{0.2cm}
</code></pre><h2 id="templates">Templates</h2>
<h3 id="general-document-structure">General document structure</h3>
<pre><code class="tex"><span class="hljs-command">\documentclass</span><span class="hljs-special">[</span>oneside, a4paper, 11pt<span class="hljs-special">]</span><span class="hljs-special">{</span>article<span class="hljs-special">}</span>

<span class="hljs-command">\usepackage</span><span class="hljs-special">{</span>..all your packages..<span class="hljs-special">}</span>

<span class="hljs-comment">% General configurations goes here, see tweaks above.</span>

<span class="hljs-command">\title</span><span class="hljs-special">{</span>Title<span class="hljs-special">}</span>
<span class="hljs-command">\author</span><span class="hljs-special">{</span>Author<span class="hljs-special">}</span>

<span class="hljs-command">\begin</span><span class="hljs-special">{</span>document<span class="hljs-special">}</span>

<span class="hljs-command">\maketitle</span>

<span class="hljs-comment">% \tableofcontents</span>
<span class="hljs-comment">% \newpage</span>

<span class="hljs-command">\section</span><span class="hljs-special">{</span>Introduction<span class="hljs-special">}</span>

Hello world!

<span class="hljs-comment">% Bibliography</span>
<span class="hljs-command">\newpage</span>
<span class="hljs-command">\begin</span><span class="hljs-special">{</span>thebibliography<span class="hljs-special">}</span><span class="hljs-special">{</span>99<span class="hljs-special">}</span>
  <span class="hljs-command">\bibitem</span><span class="hljs-special">{</span>biblabel1<span class="hljs-special">}</span> <span class="hljs-command">\url</span><span class="hljs-special">{</span>http://www.example.com/<span class="hljs-special">}</span>, 2012-12-09
<span class="hljs-command">\end</span><span class="hljs-special">{</span>thebibliography<span class="hljs-special">}</span>

<span class="hljs-command">\end</span><span class="hljs-special">{</span>document<span class="hljs-special">}</span>
</code></pre>
<h3 id="titlepage">Titlepage</h3>
<pre><code class="tex"><span class="hljs-command">\documentclass</span><span class="hljs-special">[</span>..., titlepage, ...<span class="hljs-special">]</span><span class="hljs-special">{</span>article<span class="hljs-special">}</span>

<span class="hljs-comment">% ...</span>

<span class="hljs-command">\def</span><span class="hljs-command">\title</span><span class="hljs-special">{</span>Title<span class="hljs-special">}</span>
<span class="hljs-command">\def</span><span class="hljs-command">\course</span><span class="hljs-special">{</span>Course<span class="hljs-special">}</span>
<span class="hljs-command">\def</span><span class="hljs-command">\author</span><span class="hljs-special">{</span>Author<span class="hljs-special">}</span>
<span class="hljs-command">\def</span><span class="hljs-command">\examiner</span><span class="hljs-special">{</span>Examiner<span class="hljs-special">}</span>
<span class="hljs-command">\def</span><span class="hljs-command">\school</span><span class="hljs-special">{</span>School<span class="hljs-special">}</span>

<span class="hljs-command">\begin</span><span class="hljs-special">{</span>document<span class="hljs-special">}</span>

<span class="hljs-command">\begin</span><span class="hljs-special">{</span>titlepage<span class="hljs-special">}</span>
  <span class="hljs-command">\thispagestyle</span><span class="hljs-special">{</span>empty<span class="hljs-special">}</span>
  <span class="hljs-command">\null</span>
  <span class="hljs-command">\vskip</span> -2em<span class="hljs-comment">%</span>
  <span class="hljs-command">\noindent</span> <span class="hljs-command">\large</span><span class="hljs-special">{</span><span class="hljs-command">\textbf</span><span class="hljs-special">{</span><span class="hljs-command">\school</span> <span class="hljs-command">\hfill</span> <span class="hljs-command">\today</span><span class="hljs-special">}</span><span class="hljs-special">}</span>
  <span class="hljs-command">\vskip</span> 10em
  <span class="hljs-command">\begin</span><span class="hljs-special">{</span>center<span class="hljs-special">}</span>
    <span class="hljs-command">\vskip</span> 2em
    <span class="hljs-command">\Huge</span><span class="hljs-special">{</span><span class="hljs-command">\textbf</span><span class="hljs-special">{</span><span class="hljs-command">\title</span><span class="hljs-special">}</span><span class="hljs-special">}</span> <span class="hljs-command">\\</span>
    <span class="hljs-command">\vskip</span> 2em
    <span class="hljs-command">\Large</span><span class="hljs-special">{</span><span class="hljs-command">\course</span><span class="hljs-special">}</span> <span class="hljs-command">\\</span>
    <span class="hljs-command">\vskip</span> 10em
    <span class="hljs-command">\begin</span><span class="hljs-special">{</span>large<span class="hljs-special">}</span>
      <span class="hljs-command">\begin</span><span class="hljs-special">{</span>tabular<span class="hljs-special">}</span><span class="hljs-special">{</span>ll<span class="hljs-special">}</span>
    <span class="hljs-command">\textbf</span><span class="hljs-special">{</span>Authors<span class="hljs-special">}</span> <span class="hljs-special">&amp;</span> <span class="hljs-command">\author</span> <span class="hljs-command">\\</span>
    <span class="hljs-command">\textbf</span><span class="hljs-special">{</span>Examiner<span class="hljs-special">}</span> <span class="hljs-special">&amp;</span> <span class="hljs-command">\examiner</span> <span class="hljs-command">\rule</span><span class="hljs-special">{</span>0pt<span class="hljs-special">}</span><span class="hljs-special">{</span>1.5em<span class="hljs-special">}</span>
      <span class="hljs-command">\end</span><span class="hljs-special">{</span>tabular<span class="hljs-special">}</span>
    <span class="hljs-command">\end</span><span class="hljs-special">{</span>large<span class="hljs-special">}</span>
    <span class="hljs-command">\vfill</span>
  <span class="hljs-command">\end</span><span class="hljs-special">{</span>center<span class="hljs-special">}</span>
<span class="hljs-command">\end</span><span class="hljs-special">{</span>titlepage<span class="hljs-special">}</span>

<span class="hljs-comment">% ...</span>
</code></pre>
<h2 id="installing-latex-and-related-packages-debian-based-">Installing LaTeX and related packages (debian-based)</h2>
<p>This is a list the latex-packages that I use on my system.
In a Debian-based distributions they can be installed with this command.</p>
<pre><code class="bash"><span class="hljs-built_in">sudo</span> apt-get install texlive texlive-latex-recommended texlive-latex-extra \
texlive-science texlive-math-extra cm-super texlive-xetex texlive-lang-swedish
</code></pre>
<p>Other apparently useful packages.</p>
<ul>
<li>texlive-latex3</li>
<li>texlive-publishers</li>
<li>texlive-fonts-recommended</li>
<li>texlive-fonts-extra</li>
</ul>
<h2 id="miscellaneous">Miscellaneous</h2>
<h3 id="automated-compilation-from-git">Automated compilation from git</h3>
<p>Automated compilation of LaTeX source pulled from a git repository</p>
<pre><code class="bash"><span class="hljs-built_in">cd</span> /path/to/git/repo/
git pull
<span class="hljs-built_in">cd</span> /path/to/new/pdf/
rm <span class="hljs-operator">-f</span> *
cp /path/to/git/repo/LaTeX-source/* ./
pdflatex -interaction=batchmode main.tex
pdflatex -interaction=batchmode main.tex  <span class="hljs-comment"># Twice if needed.</span>
</code></pre>
<p><code>/path/to/new/pdf/</code> might be on a web-server from where the script is
run as a cron-job.</p>
<p>When working with the LaTeX-source in the git repository, it is
convenient to compile with the flag <code>-output-directory /tmp/</code> to not
pollute the source dir.</p>
<ul>
<li><a href="http://tex.stackexchange.com/questions/16582/center-figure-that-is-wider-than-textwidth">Centering figure that is wider than <code>\textwidth</code></a></li>
</ul>
<h3 id="documentclasses">Documentclasses</h3>
<h4 id="revtex-2-column-report-style">Revtex -- 2-column report style</h4>
<ul>
<li><a href="https://authors.aps.org/revtex4/">https://authors.aps.org/revtex4/</a></li>
<li><a href="https://authors.aps.org/revtex4/auguide4-1.pdf">https://authors.aps.org/revtex4/auguide4-1.pdf</a></li>
</ul>
<h3 id="other-useful-links">Other useful links</h3>
<ul>
<li><a href="http://www.tug.org/TUGboat/tb28-3/tb90hoeppner.pdf">Typesetting tables with LaTeX</a></li>
<li><a href="http://qwone.com/~jason/latex/">http://qwone.com/~jason/latex/</a></li>
</ul>
</div>
    <!-- <div class="footer-separator"></div> -->
    <!-- <div class="footer"><div class="footer-inner">Viktor Qvarfordt</div></div> -->
  </body>
</html>